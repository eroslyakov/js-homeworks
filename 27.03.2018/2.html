<html>
    <head>
        <meta charset="utf-8">
    </head>
    <body>
        <script>
            var str=prompt('Введите строку:');
            var letter=prompt('Какую букву из входящих в строку удвоить?');
            var pos=0;
            
            if (str.indexOf(letter)===-1) alert('Такой буквы в строке нет!');
            
            for (var i=0; i<str.length; i++) {
                pos=str.charAt(i);
                if (letter===pos) {
                    str=str.substring(0,i+1)+letter+str.substring(i+1);
                    i++;
                }
            }
            
            document.write('Новая строка: "'+str+'"')
        </script>
    </body>
</html>